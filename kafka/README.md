# Kafka

<br />

## Kafka Broker
Broker는 카프카 클라이언트와 데이터를 주고 받기 위해 사용하는 주체로, 데이터를 분산 저장하여 장애가 발생해도 안전하게 사용할 수 있도록 도와주는 애플리케이션이다.

하나의 서버에는 한 개의 카프카 브로커 프로세스가 실행되어 1대의 브로커 서버만으로도 기본 기능을 수행하지만, 안전하게 데이터를 보관하고 처리하기 위해 3대 이상의 브로커 서버를 1개의 클러스터로 관리하여 운영한다. 

<br />

## Kafka Cluster
Kafka Cluster는 broker들을 관리하는 역할을 한다.

클러스터로 묶인 브로커들은 producer가 보낸 데이터를 안전하게 `분산 저장하고 복제`하는 역할을 수행한다.

카프카 2.0 까지는 클러스터를 실행하기 위해 zookeeper가 필요했지만, 3.0 부터는 주키퍼가 없어도 클러스터 동작이 가능하다.

<br />

## Kafka Streams

Kafka Streams는 Kafka에 저장된 데이를 처리 및 분석하고, 결과 데이터를 다시 kafka에 보내거나 최종 결과물로 외부 시스템에 보내는 클라이언트 라이브러리이다.

다시말해, 대용량의 이벤트 스트림 데이터를 실시간으로 분석 및 처리해주는 기술이다.

실시간 이벤트 스트림을 실시간으로 분석하기 때문에 실시간으로 빠르게 대응하기 좋다.

Streams기술의 핵심은 Database에 저장 후 분석 및 처리하는 것이 아닌, Kafka에 있는 `움직이는 데이터를 바로 분석 및 처리`하는 것이 핵심이다.

groupBy, count, join, filter, aggregate 등 손쉬운 스트림 프로세싱 API를 제공해주는 특징이 있다.

### stream
stream은 kafka stream에서 제공하는 가장 중요한 추상화로서, 지속적으로 업데이트되는 data set를 나타낸다.

그리고, stream은 key-value 쌍으로 이루어진 immutable한 data record sequence이다.