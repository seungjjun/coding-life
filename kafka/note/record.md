# Record
레코드는 타임스탬프, 오프셋, 헤더, 메시지 키, 메시지 값으로 구성되어 있다.  
프로듀서가 생성한 레코드가 브로커로 전송이 되면 오프셋과 타임스탬프가 지정이되어 저장된다. (프로듀서가 오프셋을 지정하지 않음)
- 브로커에 한번 적재된 레코드는 수정할 수 없고 로그 리텐션 기간 또는 용량에 따라서만 삭제된다.

## offset
- 프로듀서가 생성한 레코드에는 오프셋이 존재하지 않는다. (브로커에 적재될 때 오프셋이 지정된다.)  
- 컨슈머는 이 오프셋을 기반으로 처리가 왼료된 데이터와 처리해야 할 데이터를 구분한다. (컨슈머가 데이터 처리 시 커밋을 함) 
- 각 메시지는 파티션별로 고유한 오프셋을 가지므로 컨슈머에서 중복 처리를 방지하기위한 목적으로도 사용한다.

## 메시지 키
- 메시지 키는 처리하고자 하는 메시지 값을 분류하기 위한 용도로 사용되며, 이를 **파티셔닝** 이라고 부른다.  
- 파티셔닝에 사용하는 메시지 키는 파티셔너(partitioner)에 따라 토픽의 파티션 번호가 정해진다.  
- 메시지 키는 필수 값이 아니며, 별도로 지정하지 않으면 null로 설정이 된다. 메시지 키가 null인 레코드는 특정 토픽의 파티션에 라운드 로빈 방식으로 전달된다.  
  - null이 아닌 메시지 키인 경우 해쉬값에 의해서 특정 파티션에 매핑되어 전달된다. (기본 파티셔너를 사용하는 경우)
    - 즉, 동일한 키에 대해서는 동일한 파티션에 메시지가 적재된다. (순서보장)
